import{j as e,z as G,_ as te}from"./index-mfTr1OfE.js";import{r as N}from"./react-BKEbDJhF.js";import{s as re,ac as ae,ad as ie,j as ne,Z as le,o as ce,d as me}from"./icons-5Lq8eyna.js";import{m as S}from"./motion-BaJTjmjD.js";function de(l,o,t,a){function r(i){return i instanceof t?i:new t(function(m){m(i)})}return new(t||(t=Promise))(function(i,m){function x(u){try{w(a.next(u))}catch(j){m(j)}}function v(u){try{w(a.throw(u))}catch(j){m(j)}}function w(u){u.done?i(u.value):r(u.value).then(x,v)}w((a=a.apply(l,[])).next())})}function pe(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}var B,Z;function ue(){return Z||(Z=1,B=function l(o,t){if(o===t)return!0;if(o&&t&&typeof o=="object"&&typeof t=="object"){if(o.constructor!==t.constructor)return!1;var a,r,i;if(Array.isArray(o)){if(a=o.length,a!=t.length)return!1;for(r=a;r--!==0;)if(!l(o[r],t[r]))return!1;return!0}if(o.constructor===RegExp)return o.source===t.source&&o.flags===t.flags;if(o.valueOf!==Object.prototype.valueOf)return o.valueOf()===t.valueOf();if(o.toString!==Object.prototype.toString)return o.toString()===t.toString();if(i=Object.keys(o),a=i.length,a!==Object.keys(t).length)return!1;for(r=a;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,i[r]))return!1;for(r=a;r--!==0;){var m=i[r];if(!l(o[m],t[m]))return!1}return!0}return o!==o&&t!==t}),B}var be=ue(),fe=pe(be);const H="__googleMapsScriptId";var _;(function(l){l[l.INITIALIZED=0]="INITIALIZED",l[l.LOADING=1]="LOADING",l[l.SUCCESS=2]="SUCCESS",l[l.FAILURE=3]="FAILURE"})(_||(_={}));class z{constructor({apiKey:o,authReferrerPolicy:t,channel:a,client:r,id:i=H,language:m,libraries:x=[],mapIds:v,nonce:w,region:u,retries:j=3,url:E="https://maps.googleapis.com/maps/api/js",version:D}){if(this.callbacks=[],this.done=!1,this.loading=!1,this.errors=[],this.apiKey=o,this.authReferrerPolicy=t,this.channel=a,this.client=r,this.id=i||H,this.language=m,this.libraries=x,this.mapIds=v,this.nonce=w,this.region=u,this.retries=j,this.url=E,this.version=D,z.instance){if(!fe(this.options,z.instance.options))throw new Error(`Loader must not be called again with different options. ${JSON.stringify(this.options)} !== ${JSON.stringify(z.instance.options)}`);return z.instance}z.instance=this}get options(){return{version:this.version,apiKey:this.apiKey,channel:this.channel,client:this.client,id:this.id,libraries:this.libraries,language:this.language,region:this.region,mapIds:this.mapIds,nonce:this.nonce,url:this.url,authReferrerPolicy:this.authReferrerPolicy}}get status(){return this.errors.length?_.FAILURE:this.done?_.SUCCESS:this.loading?_.LOADING:_.INITIALIZED}get failed(){return this.done&&!this.loading&&this.errors.length>=this.retries+1}createUrl(){let o=this.url;return o+="?callback=__googleMapsCallback&loading=async",this.apiKey&&(o+=`&key=${this.apiKey}`),this.channel&&(o+=`&channel=${this.channel}`),this.client&&(o+=`&client=${this.client}`),this.libraries.length>0&&(o+=`&libraries=${this.libraries.join(",")}`),this.language&&(o+=`&language=${this.language}`),this.region&&(o+=`&region=${this.region}`),this.version&&(o+=`&v=${this.version}`),this.mapIds&&(o+=`&map_ids=${this.mapIds.join(",")}`),this.authReferrerPolicy&&(o+=`&auth_referrer_policy=${this.authReferrerPolicy}`),o}deleteScript(){const o=document.getElementById(this.id);o&&o.remove()}load(){return this.loadPromise()}loadPromise(){return new Promise((o,t)=>{this.loadCallback(a=>{a?t(a.error):o(window.google)})})}importLibrary(o){return this.execute(),google.maps.importLibrary(o)}loadCallback(o){this.callbacks.push(o),this.execute()}setScript(){var o,t;if(document.getElementById(this.id)){this.callback();return}const a={key:this.apiKey,channel:this.channel,client:this.client,libraries:this.libraries.length&&this.libraries,v:this.version,mapIds:this.mapIds,language:this.language,region:this.region,authReferrerPolicy:this.authReferrerPolicy};Object.keys(a).forEach(i=>!a[i]&&delete a[i]),!((t=(o=window==null?void 0:window.google)===null||o===void 0?void 0:o.maps)===null||t===void 0)&&t.importLibrary||(i=>{let m,x,v,w="The Google Maps JavaScript API",u="google",j="importLibrary",E="__ib__",D=document,c=window;c=c[u]||(c[u]={});const C=c.maps||(c.maps={}),M=new Set,V=new URLSearchParams,I=()=>m||(m=new Promise((k,U)=>de(this,void 0,void 0,function*(){var A;yield x=D.createElement("script"),x.id=this.id,V.set("libraries",[...M]+"");for(v in i)V.set(v.replace(/[A-Z]/g,F=>"_"+F[0].toLowerCase()),i[v]);V.set("callback",u+".maps."+E),x.src=this.url+"?"+V,C[E]=k,x.onerror=()=>m=U(Error(w+" could not load.")),x.nonce=this.nonce||((A=D.querySelector("script[nonce]"))===null||A===void 0?void 0:A.nonce)||"",D.head.append(x)})));C[j]?console.warn(w+" only loads once. Ignoring:",i):C[j]=(k,...U)=>M.add(k)&&I().then(()=>C[j](k,...U))})(a);const r=this.libraries.map(i=>this.importLibrary(i));r.length||r.push(this.importLibrary("core")),Promise.all(r).then(()=>this.callback(),i=>{const m=new ErrorEvent("error",{error:i});this.loadErrorCallback(m)})}reset(){this.deleteScript(),this.done=!1,this.loading=!1,this.errors=[],this.onerrorEvent=null}resetIfRetryingFailed(){this.failed&&this.reset()}loadErrorCallback(o){if(this.errors.push(o),this.errors.length<=this.retries){const t=this.errors.length*Math.pow(2,this.errors.length);console.error(`Failed to load Google Maps script, retrying in ${t} ms.`),setTimeout(()=>{this.deleteScript(),this.setScript()},t)}else this.onerrorEvent=o,this.callback()}callback(){this.done=!0,this.loading=!1,this.callbacks.forEach(o=>{o(this.onerrorEvent)}),this.callbacks=[]}execute(){if(this.resetIfRetryingFailed(),!this.loading)if(this.done)this.callback();else{if(window.google&&window.google.maps&&window.google.maps.version){console.warn("Google Maps already loaded outside @googlemaps/js-api-loader. This may result in undesirable behavior as options and script parameters may not match."),this.callback();return}this.loading=!0,this.setScript()}}}const ve=({onLocationSelect:l,projectType:o,initialLocation:t})=>{const a=N.useRef(null),[r,i]=N.useState(null),[m,x]=N.useState(t||null),[v,w]=N.useState(""),[u,j]=N.useState([]),[E,D]=N.useState(!1),[c,C]=N.useState(null),[M,V]=N.useState(2),[I,k]=N.useState(!0),[U,A]=N.useState("all"),[F,J]=N.useState(!1);N.useEffect(()=>{(async()=>{try{if(await new z({apiKey:"your_google_maps_api_key_here",version:"weekly",libraries:["places","geometry"],language:"ar",region:"SA"}).load(),a.current){const d=new google.maps.Map(a.current,{center:t||{lat:24.7136,lng:46.6753},zoom:13,styles:[{featureType:"poi.business",elementType:"labels",stylers:[{visibility:"on"}]}],mapTypeControl:!1,streetViewControl:!1,fullscreenControl:!1});i(d),J(!0),d.addListener("click",y=>{if(y.latLng){const b={lat:y.latLng.lat(),lng:y.latLng.lng()};x(b),W(b),P(b)}}),t&&P(t)}}catch(p){console.error("خطأ في تحميل الخرائط:",p),G.error("خطأ في تحميل الخرائط - سيتم استخدام النمط التقليدي")}})()},[]);const W=async s=>{try{const d=await new google.maps.Geocoder().geocode({location:s});d.results[0]&&w(d.results[0].formatted_address)}catch(p){console.error("خطأ في الحصول على العنوان:",p)}},P=async s=>{if(r){D(!0),j([]),C(null);try{const p=new google.maps.places.PlacesService(r),d=Q(o),y=[];for(const f of d)await new Promise(g=>{p.nearbySearch({location:s,radius:M*1e3,keyword:f,type:"establishment"},(L,R)=>{R===google.maps.places.PlacesServiceStatus.OK&&L&&L.forEach((n,$)=>{var O,K;if((O=n.geometry)!=null&&O.location&&n.place_id){const se=google.maps.geometry.spherical.computeDistanceBetween(new google.maps.LatLng(s.lat,s.lng),n.geometry.location)/1e3;y.push({id:n.place_id,name:n.name||"غير محدد",type:f,distance:Math.round(se*100)/100,rating:n.rating||0,reviews:n.user_ratings_total||0,address:n.vicinity||"غير محدد",position:{lat:n.geometry.location.lat(),lng:n.geometry.location.lng()},businessHours:(K=n.opening_hours)!=null&&K.open_now?"مفتوح الآن":"مغلق",phone:n.formatted_phone_number,website:n.website})}}),g()})});const b=y.filter((f,g,L)=>g===L.findIndex(R=>R.name===f.name)).sort((f,g)=>f.distance-g.distance).slice(0,20);j(b);const h=X(b,s);C(h),Y(s,b),l({lat:s.lat,lng:s.lng,address:v,analysis:h});try{const{analytics:f}=await te(async()=>{const{analytics:g}=await import("./analytics-CDfcVRap.js");return{analytics:g}},[]);f.trackLocationAnalysis({lat:s.lat,lng:s.lng,competitors_found:b.length})}catch(f){console.warn("Analytics tracking failed:",f)}}catch(p){console.error("خطأ في تحليل الموقع:",p),G.error("خطأ في تحليل المنافسين")}finally{D(!1)}}},Q=s=>({"تجارة إلكترونية":["متجر","تسوق","مول","تجارة","بيع"],"مطاعم وأغذية":["مطعم","كافيه","مقهى","طعام","وجبات"],"تقنية وبرمجة":["تقنية","برمجة","كمبيوتر","تطوير","IT"],"خدمات مهنية":["استشارات","خدمات","مكتب","شركة"],"صحة ولياقة":["صحة","لياقة","جيم","طبي","عيادة"],"تعليم وتدريب":["تعليم","تدريب","مدرسة","معهد","أكاديمية"],"سياحة وضيافة":["فندق","سياحة","ضيافة","منتجع"],"لوجستيات وتوصيل":["شحن","توصيل","لوجستيات","نقل"],"تقنية مالية":["بنك","مالية","تمويل","استثمار"],"عقارات وإنشاءات":["عقار","إنشاءات","مقاولات","تطوير"],"طاقة واستدامة":["طاقة","بيئة","استدامة","متجددة"]})[s]||["أعمال","شركة","خدمات"],X=(s,p)=>{const d=s.length,y=s.length>0?s.reduce(($,O)=>$+O.distance,0)/s.length:0,b=s.filter($=>$.distance<=1);let h="low";b.length>10?h="high":b.length>5&&(h="medium");const f=Math.min(100,s.length*5+Math.random()*20+60),g=Math.min(100,85+Math.random()*15),L=Math.min(100,b.length*8+Math.random()*20),R=Math.round(f*.3+g*.3+(100-L)*.4),n=[];return h==="high"?(n.push("المنطقة مشبعة بالمنافسين - فكر في التميز أو موقع بديل"),n.push("ركز على خدمة عملاء متميزة للتفوق على المنافسين")):h==="low"&&(n.push("فرصة ممتازة - قلة المنافسين في المنطقة"),n.push("يمكن أن تكون رائداً في هذه المنطقة")),y<.5&&n.push("المنافسون قريبون جداً - ادرس أسعارهم وخدماتهم بعناية"),f>80&&n.push("منطقة حيوية بحركة مرور عالية - مثالية للأعمال"),g>90&&n.push("سهولة وصول ممتازة للعملاء"),{totalCompetitors:d,averageDistance:Math.round(y*100)/100,competitionDensity:h,recommendedRadius:h==="high"?3:h==="medium"?2:1,marketSaturation:Math.round(L),trafficScore:Math.round(f),accessibilityScore:Math.round(g),overallScore:R,recommendations:n}},Y=(s,p)=>{r&&(r.setCenter(s),new google.maps.Marker({position:s,map:r,title:"موقع مشروعك المقترح",icon:{url:"data:image/svg+xml;charset=UTF-8,"+encodeURIComponent(`
          <svg width="40" height="40" viewBox="0 0 40 40" xmlns="http://www.w3.org/2000/svg">
            <circle cx="20" cy="20" r="18" fill="#006B3F" stroke="#fff" stroke-width="2"/>
            <text x="20" y="26" text-anchor="middle" fill="white" font-size="16" font-weight="bold">🏢</text>
          </svg>
        `),scaledSize:new google.maps.Size(40,40)}}),p.forEach((d,y)=>{const b=new google.maps.Marker({position:d.position,map:r,title:d.name,icon:{url:"data:image/svg+xml;charset=UTF-8,"+encodeURIComponent(`
            <svg width="30" height="30" viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg">
              <circle cx="15" cy="15" r="13" fill="#FFD700" stroke="#fff" stroke-width="2"/>
              <text x="15" y="20" text-anchor="middle" fill="white" font-size="12" font-weight="bold">🏪</text>
            </svg>
          `),scaledSize:new google.maps.Size(30,30)}}),h=new google.maps.InfoWindow({content:`
          <div style="font-family: 'Almarai', sans-serif; text-align: right; direction: rtl;">
            <h3 style="margin: 0 0 8px 0; color: #006B3F;">${d.name}</h3>
            <p style="margin: 4px 0; color: #666;">📍 ${d.address}</p>
            <p style="margin: 4px 0; color: #666;">📏 ${d.distance} كم من موقعك</p>
            <p style="margin: 4px 0; color: #666;">⭐ ${d.rating}/5 (${d.reviews} تقييم)</p>
            ${d.businessHours?`<p style="margin: 4px 0; color: #666;">🕒 ${d.businessHours}</p>`:""}
          </div>
        `});b.addListener("click",()=>{h.open(r,b)})}),new google.maps.Circle({strokeColor:"#006B3F",strokeOpacity:.8,strokeWeight:2,fillColor:"#006B3F",fillOpacity:.1,map:r,center:s,radius:M*1e3}))},ee=s=>{V(s),m&&P(m)},T=u.filter(s=>U==="all"?!0:U==="close"?s.distance<=1:U==="rated"?s.rating>=4:!0),q=s=>s>=80?"text-green-600":s>=60?"text-yellow-600":"text-red-600",oe=s=>{switch(s){case"low":return"text-green-600";case"medium":return"text-yellow-600";case"high":return"text-red-600";default:return"text-gray-600"}};return e.jsxDEV("div",{className:"space-y-6",children:[e.jsxDEV("div",{className:"text-center",children:[e.jsxDEV("h3",{className:"text-2xl font-almarai font-bold text-gray-800 mb-2",children:"🗺️ تحليل الموقع والمنافسين"},void 0,!1,{fileName:"C:/Users/User/Downloads/project-bolt-sb1-szjsaox8 (10)/project/src/components/MapLocationSelector.tsx",lineNumber:409,columnNumber:9},void 0),e.jsxDEV("p",{className:"text-gray-600 font-almarai",children:"اختر موقع مشروعك لتحليل المنافسة والفرص المتاحة"},void 0,!1,{fileName:"C:/Users/User/Downloads/project-bolt-sb1-szjsaox8 (10)/project/src/components/MapLocationSelector.tsx",lineNumber:412,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/User/Downloads/project-bolt-sb1-szjsaox8 (10)/project/src/components/MapLocationSelector.tsx",lineNumber:408,columnNumber:7},void 0),e.jsxDEV("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-4",children:e.jsxDEV("div",{className:"flex flex-col md:flex-row gap-4 items-center",children:[e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV(re,{className:"h-5 w-5 text-saudi-green"},void 0,!1,{fileName:"C:/Users/User/Downloads/project-bolt-sb1-szjsaox8 (10)/project/src/components/MapLocationSelector.tsx",lineNumber:421,columnNumber:13},void 0),e.jsxDEV("span",{className:"font-almarai font-bold text-gray-800",children:"نصف قطر البحث:"},void 0,!1,{fileName:"C:/Users/User/Downloads/project-bolt-sb1-szjsaox8 (10)/project/src/components/MapLocationSelector.tsx",lineNumber:422,columnNumber:13},void 0),e.jsxDEV("select",{value:M,onChange:s=>ee(Number(s.target.value)),className:"border border-gray-200 rounded-lg px-3 py-2 font-almarai focus:border-saudi-green focus:outline-none",children:[e.jsxDEV("option",{value:1,children:"1 كم"},void 0,!1,{fileName:"C:/Users/User/Downloads/project-bolt-sb1-szjsaox8 (10)/project/src/components/MapLocationSelector.tsx",lineNumber:428,columnNumber:15},void 0),e.jsxDEV("option",{value:2,children:"2 كم"},void 0,!1,{fileName:"C:/Users/User/Downloads/project-bolt-sb1-szjsaox8 (10)/project/src/components/MapLocationSelector.tsx",lineNumber:429,columnNumber:15},void 0),e.jsxDEV("option",{value:3,children:"3 كم"},void 0,!1,{fileName:"C:/Users/User/Downloads/project-bolt-sb1-szjsaox8 (10)/project/src/components/MapLocationSelector.tsx",lineNumber:430,columnNumber:15},void 0),e.jsxDEV("option",{value:5,children:"5 كم"},void 0,!1,{fileName:"C:/Users/User/Downloads/project-bolt-sb1-szjsaox8 (10)/project/src/components/MapLocationSelector.tsx",lineNumber:431,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/User/Downloads/project-bolt-sb1-szjsaox8 (10)/project/src/components/MapLocationSelector.tsx",lineNumber:423,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/User/Downloads/project-bolt-sb1-szjsaox8 (10)/project/src/components/MapLocationSelector.tsx",lineNumber:420,columnNumber:11},void 0),e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV(ae,{className:"h-5 w-5 text-saudi-gold"},void 0,!1,{fileName:"C:/Users/User/Downloads/project-bolt-sb1-szjsaox8 (10)/project/src/components/MapLocationSelector.tsx",lineNumber:436,columnNumber:13},void 0),e.jsxDEV("span",{className:"font-almarai font-bold text-gray-800",children:"فلترة:"},void 0,!1,{fileName:"C:/Users/User/Downloads/project-bolt-sb1-szjsaox8 (10)/project/src/components/MapLocationSelector.tsx",lineNumber:437,columnNumber:13},void 0),e.jsxDEV("select",{value:U,onChange:s=>A(s.target.value),className:"border border-gray-200 rounded-lg px-3 py-2 font-almarai focus:border-saudi-green focus:outline-none",children:[e.jsxDEV("option",{value:"all",children:"جميع المنافسين"},void 0,!1,{fileName:"C:/Users/User/Downloads/project-bolt-sb1-szjsaox8 (10)/project/src/components/MapLocationSelector.tsx",lineNumber:443,columnNumber:15},void 0),e.jsxDEV("option",{value:"close",children:"القريبين (أقل من 1 كم)"},void 0,!1,{fileName:"C:/Users/User/Downloads/project-bolt-sb1-szjsaox8 (10)/project/src/components/MapLocationSelector.tsx",lineNumber:444,columnNumber:15},void 0),e.jsxDEV("option",{value:"rated",children:"عالي التقييم (4+ نجوم)"},void 0,!1,{fileName:"C:/Users/User/Downloads/project-bolt-sb1-szjsaox8 (10)/project/src/components/MapLocationSelector.tsx",lineNumber:445,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/User/Downloads/project-bolt-sb1-szjsaox8 (10)/project/src/components/MapLocationSelector.tsx",lineNumber:438,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/User/Downloads/project-bolt-sb1-szjsaox8 (10)/project/src/components/MapLocationSelector.tsx",lineNumber:435,columnNumber:11},void 0),e.jsxDEV("button",{onClick:()=>k(!I),className:`px-4 py-2 rounded-lg font-almarai transition-colors ${I?"bg-saudi-green text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:[e.jsxDEV(ie,{className:"h-4 w-4 inline ml-2"},void 0,!1,{fileName:"C:/Users/User/Downloads/project-bolt-sb1-szjsaox8 (10)/project/src/components/MapLocationSelector.tsx",lineNumber:457,columnNumber:13},void 0),I?"إخفاء المنافسين":"إظهار المنافسين"]},void 0,!0,{fileName:"C:/Users/User/Downloads/project-bolt-sb1-szjsaox8 (10)/project/src/components/MapLocationSelector.tsx",lineNumber:449,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/User/Downloads/project-bolt-sb1-szjsaox8 (10)/project/src/components/MapLocationSelector.tsx",lineNumber:419,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/User/Downloads/project-bolt-sb1-szjsaox8 (10)/project/src/components/MapLocationSelector.tsx",lineNumber:418,columnNumber:7},void 0),e.jsxDEV("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxDEV("div",{className:"lg:col-span-2",children:[e.jsxDEV("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:[e.jsxDEV("div",{className:"p-4 border-b border-gray-200",children:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("h4",{className:"font-almarai font-bold text-gray-800",children:"خريطة المنافسين"},void 0,!1,{fileName:"C:/Users/User/Downloads/project-bolt-sb1-szjsaox8 (10)/project/src/components/MapLocationSelector.tsx",lineNumber:469,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex items-center gap-2",children:[E&&e.jsxDEV(S.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-5 h-5 border-2 border-saudi-green border-t-transparent rounded-full"},void 0,!1,{fileName:"C:/Users/User/Downloads/project-bolt-sb1-szjsaox8 (10)/project/src/components/MapLocationSelector.tsx",lineNumber:472,columnNumber:21},void 0),e.jsxDEV("span",{className:"text-sm font-almarai text-gray-600",children:E?"جاري التحليل...":`${u.length} منافس`},void 0,!1,{fileName:"C:/Users/User/Downloads/project-bolt-sb1-szjsaox8 (10)/project/src/components/MapLocationSelector.tsx",lineNumber:478,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/User/Downloads/project-bolt-sb1-szjsaox8 (10)/project/src/components/MapLocationSelector.tsx",lineNumber:470,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/User/Downloads/project-bolt-sb1-szjsaox8 (10)/project/src/components/MapLocationSelector.tsx",lineNumber:468,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/User/Downloads/project-bolt-sb1-szjsaox8 (10)/project/src/components/MapLocationSelector.tsx",lineNumber:467,columnNumber:13},void 0),e.jsxDEV("div",{ref:a,className:"w-full h-96",style:{minHeight:"400px"}},void 0,!1,{fileName:"C:/Users/User/Downloads/project-bolt-sb1-szjsaox8 (10)/project/src/components/MapLocationSelector.tsx",lineNumber:485,columnNumber:13},void 0),!F&&e.jsxDEV("div",{className:"absolute inset-0 bg-gray-100 flex items-center justify-center",children:e.jsxDEV("div",{className:"text-center",children:[e.jsxDEV(S.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-8 h-8 border-2 border-saudi-green border-t-transparent rounded-full mx-auto mb-4"},void 0,!1,{fileName:"C:/Users/User/Downloads/project-bolt-sb1-szjsaox8 (10)/project/src/components/MapLocationSelector.tsx",lineNumber:494,columnNumber:19},void 0),e.jsxDEV("p",{className:"font-almarai text-gray-600",children:"جاري تحميل الخريطة..."},void 0,!1,{fileName:"C:/Users/User/Downloads/project-bolt-sb1-szjsaox8 (10)/project/src/components/MapLocationSelector.tsx",lineNumber:499,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/User/Downloads/project-bolt-sb1-szjsaox8 (10)/project/src/components/MapLocationSelector.tsx",lineNumber:493,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/User/Downloads/project-bolt-sb1-szjsaox8 (10)/project/src/components/MapLocationSelector.tsx",lineNumber:492,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/User/Downloads/project-bolt-sb1-szjsaox8 (10)/project/src/components/MapLocationSelector.tsx",lineNumber:466,columnNumber:11},void 0),m&&v&&e.jsxDEV(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-saudi-green/10 border border-saudi-green/20 rounded-xl p-4 mt-4",children:[e.jsxDEV("div",{className:"flex items-center gap-3 mb-2",children:[e.jsxDEV(ne,{className:"h-5 w-5 text-saudi-green"},void 0,!1,{fileName:"C:/Users/User/Downloads/project-bolt-sb1-szjsaox8 (10)/project/src/components/MapLocationSelector.tsx",lineNumber:513,columnNumber:17},void 0),e.jsxDEV("span",{className:"font-almarai font-bold text-saudi-green",children:"الموقع المختار:"},void 0,!1,{fileName:"C:/Users/User/Downloads/project-bolt-sb1-szjsaox8 (10)/project/src/components/MapLocationSelector.tsx",lineNumber:514,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/User/Downloads/project-bolt-sb1-szjsaox8 (10)/project/src/components/MapLocationSelector.tsx",lineNumber:512,columnNumber:15},void 0),e.jsxDEV("p",{className:"text-saudi-green font-almarai text-right",children:v},void 0,!1,{fileName:"C:/Users/User/Downloads/project-bolt-sb1-szjsaox8 (10)/project/src/components/MapLocationSelector.tsx",lineNumber:516,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/User/Downloads/project-bolt-sb1-szjsaox8 (10)/project/src/components/MapLocationSelector.tsx",lineNumber:507,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/User/Downloads/project-bolt-sb1-szjsaox8 (10)/project/src/components/MapLocationSelector.tsx",lineNumber:465,columnNumber:9},void 0),e.jsxDEV("div",{className:"space-y-6",children:[c&&e.jsxDEV(S.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:[e.jsxDEV("h4",{className:"font-almarai font-bold text-gray-800 mb-4 text-right",children:"تحليل الموقع"},void 0,!1,{fileName:"C:/Users/User/Downloads/project-bolt-sb1-szjsaox8 (10)/project/src/components/MapLocationSelector.tsx",lineNumber:530,columnNumber:15},void 0),e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{className:`text-2xl font-bold ${q(c.overallScore)}`,children:[c.overallScore,"/100"]},void 0,!0,{fileName:"C:/Users/User/Downloads/project-bolt-sb1-szjsaox8 (10)/project/src/components/MapLocationSelector.tsx",lineNumber:536,columnNumber:19},void 0),e.jsxDEV("div",{className:"text-right",children:[e.jsxDEV("div",{className:"font-almarai font-bold text-gray-800",children:"النقاط الإجمالية"},void 0,!1,{fileName:"C:/Users/User/Downloads/project-bolt-sb1-szjsaox8 (10)/project/src/components/MapLocationSelector.tsx",lineNumber:540,columnNumber:21},void 0),e.jsxDEV("div",{className:"text-sm font-almarai text-gray-600",children:"تقييم شامل للموقع"},void 0,!1,{fileName:"C:/Users/User/Downloads/project-bolt-sb1-szjsaox8 (10)/project/src/components/MapLocationSelector.tsx",lineNumber:541,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/User/Downloads/project-bolt-sb1-szjsaox8 (10)/project/src/components/MapLocationSelector.tsx",lineNumber:539,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/User/Downloads/project-bolt-sb1-szjsaox8 (10)/project/src/components/MapLocationSelector.tsx",lineNumber:535,columnNumber:17},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxDEV("div",{className:"text-center",children:[e.jsxDEV("div",{className:`text-lg font-bold ${q(c.trafficScore)}`,children:c.trafficScore},void 0,!1,{fileName:"C:/Users/User/Downloads/project-bolt-sb1-szjsaox8 (10)/project/src/components/MapLocationSelector.tsx",lineNumber:547,columnNumber:21},void 0),e.jsxDEV("div",{className:"text-xs font-almarai text-gray-600",children:"حركة المرور"},void 0,!1,{fileName:"C:/Users/User/Downloads/project-bolt-sb1-szjsaox8 (10)/project/src/components/MapLocationSelector.tsx",lineNumber:550,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/User/Downloads/project-bolt-sb1-szjsaox8 (10)/project/src/components/MapLocationSelector.tsx",lineNumber:546,columnNumber:19},void 0),e.jsxDEV("div",{className:"text-center",children:[e.jsxDEV("div",{className:`text-lg font-bold ${q(c.accessibilityScore)}`,children:c.accessibilityScore},void 0,!1,{fileName:"C:/Users/User/Downloads/project-bolt-sb1-szjsaox8 (10)/project/src/components/MapLocationSelector.tsx",lineNumber:554,columnNumber:21},void 0),e.jsxDEV("div",{className:"text-xs font-almarai text-gray-600",children:"سهولة الوصول"},void 0,!1,{fileName:"C:/Users/User/Downloads/project-bolt-sb1-szjsaox8 (10)/project/src/components/MapLocationSelector.tsx",lineNumber:557,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/User/Downloads/project-bolt-sb1-szjsaox8 (10)/project/src/components/MapLocationSelector.tsx",lineNumber:553,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/User/Downloads/project-bolt-sb1-szjsaox8 (10)/project/src/components/MapLocationSelector.tsx",lineNumber:545,columnNumber:17},void 0),e.jsxDEV("div",{className:"border-t border-gray-200 pt-4",children:e.jsxDEV("div",{className:"flex items-center justify-between mb-2",children:[e.jsxDEV("div",{className:`font-bold ${oe(c.competitionDensity)}`,children:c.competitionDensity==="low"?"منخفضة":c.competitionDensity==="medium"?"متوسطة":"عالية"},void 0,!1,{fileName:"C:/Users/User/Downloads/project-bolt-sb1-szjsaox8 (10)/project/src/components/MapLocationSelector.tsx",lineNumber:563,columnNumber:21},void 0),e.jsxDEV("div",{className:"text-right",children:[e.jsxDEV("div",{className:"font-almarai font-bold text-gray-800",children:"كثافة المنافسة"},void 0,!1,{fileName:"C:/Users/User/Downloads/project-bolt-sb1-szjsaox8 (10)/project/src/components/MapLocationSelector.tsx",lineNumber:568,columnNumber:23},void 0),e.jsxDEV("div",{className:"text-sm font-almarai text-gray-600",children:[c.totalCompetitors," منافس في ",M," كم"]},void 0,!0,{fileName:"C:/Users/User/Downloads/project-bolt-sb1-szjsaox8 (10)/project/src/components/MapLocationSelector.tsx",lineNumber:569,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/User/Downloads/project-bolt-sb1-szjsaox8 (10)/project/src/components/MapLocationSelector.tsx",lineNumber:567,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/User/Downloads/project-bolt-sb1-szjsaox8 (10)/project/src/components/MapLocationSelector.tsx",lineNumber:562,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/User/Downloads/project-bolt-sb1-szjsaox8 (10)/project/src/components/MapLocationSelector.tsx",lineNumber:561,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/User/Downloads/project-bolt-sb1-szjsaox8 (10)/project/src/components/MapLocationSelector.tsx",lineNumber:534,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/User/Downloads/project-bolt-sb1-szjsaox8 (10)/project/src/components/MapLocationSelector.tsx",lineNumber:525,columnNumber:13},void 0),c&&c.recommendations.length>0&&e.jsxDEV(S.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.2},className:"bg-blue-50 border border-blue-200 rounded-xl p-6",children:[e.jsxDEV("div",{className:"flex items-center gap-3 mb-4",children:[e.jsxDEV(le,{className:"h-5 w-5 text-blue-600"},void 0,!1,{fileName:"C:/Users/User/Downloads/project-bolt-sb1-szjsaox8 (10)/project/src/components/MapLocationSelector.tsx",lineNumber:588,columnNumber:17},void 0),e.jsxDEV("h4",{className:"font-almarai font-bold text-blue-800",children:"توصيات ذكية"},void 0,!1,{fileName:"C:/Users/User/Downloads/project-bolt-sb1-szjsaox8 (10)/project/src/components/MapLocationSelector.tsx",lineNumber:589,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/User/Downloads/project-bolt-sb1-szjsaox8 (10)/project/src/components/MapLocationSelector.tsx",lineNumber:587,columnNumber:15},void 0),e.jsxDEV("div",{className:"space-y-3",children:c.recommendations.map((s,p)=>e.jsxDEV(S.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:p*.1},className:"flex items-start gap-2",children:[e.jsxDEV(ce,{className:"h-4 w-4 text-blue-600 mt-1 flex-shrink-0"},void 0,!1,{fileName:"C:/Users/User/Downloads/project-bolt-sb1-szjsaox8 (10)/project/src/components/MapLocationSelector.tsx",lineNumber:601,columnNumber:21},void 0),e.jsxDEV("span",{className:"text-blue-700 font-almarai text-sm text-right",children:s},void 0,!1,{fileName:"C:/Users/User/Downloads/project-bolt-sb1-szjsaox8 (10)/project/src/components/MapLocationSelector.tsx",lineNumber:602,columnNumber:21},void 0)]},p,!0,{fileName:"C:/Users/User/Downloads/project-bolt-sb1-szjsaox8 (10)/project/src/components/MapLocationSelector.tsx",lineNumber:594,columnNumber:19},void 0))},void 0,!1,{fileName:"C:/Users/User/Downloads/project-bolt-sb1-szjsaox8 (10)/project/src/components/MapLocationSelector.tsx",lineNumber:592,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/User/Downloads/project-bolt-sb1-szjsaox8 (10)/project/src/components/MapLocationSelector.tsx",lineNumber:581,columnNumber:13},void 0),I&&T.length>0&&e.jsxDEV(S.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.3},className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:[e.jsxDEV("div",{className:"flex items-center justify-between mb-4",children:[e.jsxDEV("h4",{className:"font-almarai font-bold text-gray-800",children:["المنافسون القريبون (",T.length,")"]},void 0,!0,{fileName:"C:/Users/User/Downloads/project-bolt-sb1-szjsaox8 (10)/project/src/components/MapLocationSelector.tsx",lineNumber:620,columnNumber:17},void 0),e.jsxDEV(me,{className:"h-5 w-5 text-saudi-gold"},void 0,!1,{fileName:"C:/Users/User/Downloads/project-bolt-sb1-szjsaox8 (10)/project/src/components/MapLocationSelector.tsx",lineNumber:623,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/User/Downloads/project-bolt-sb1-szjsaox8 (10)/project/src/components/MapLocationSelector.tsx",lineNumber:619,columnNumber:15},void 0),e.jsxDEV("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:T.slice(0,10).map((s,p)=>e.jsxDEV(S.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:p*.05},className:"border border-gray-200 rounded-lg p-3 hover:bg-gray-50 transition-colors",children:e.jsxDEV("div",{className:"flex items-center justify-between mb-2",children:[e.jsxDEV("div",{className:"text-right flex-1",children:[e.jsxDEV("h5",{className:"font-almarai font-bold text-gray-800 text-sm",children:s.name},void 0,!1,{fileName:"C:/Users/User/Downloads/project-bolt-sb1-szjsaox8 (10)/project/src/components/MapLocationSelector.tsx",lineNumber:637,columnNumber:25},void 0),e.jsxDEV("p",{className:"text-gray-600 font-almarai text-xs",children:s.address},void 0,!1,{fileName:"C:/Users/User/Downloads/project-bolt-sb1-szjsaox8 (10)/project/src/components/MapLocationSelector.tsx",lineNumber:640,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/User/Downloads/project-bolt-sb1-szjsaox8 (10)/project/src/components/MapLocationSelector.tsx",lineNumber:636,columnNumber:23},void 0),e.jsxDEV("div",{className:"text-left",children:[e.jsxDEV("div",{className:"text-sm font-bold text-saudi-green",children:[s.distance," كم"]},void 0,!0,{fileName:"C:/Users/User/Downloads/project-bolt-sb1-szjsaox8 (10)/project/src/components/MapLocationSelector.tsx",lineNumber:645,columnNumber:25},void 0),e.jsxDEV("div",{className:"text-xs text-gray-500",children:["⭐ ",s.rating]},void 0,!0,{fileName:"C:/Users/User/Downloads/project-bolt-sb1-szjsaox8 (10)/project/src/components/MapLocationSelector.tsx",lineNumber:648,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/User/Downloads/project-bolt-sb1-szjsaox8 (10)/project/src/components/MapLocationSelector.tsx",lineNumber:644,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/User/Downloads/project-bolt-sb1-szjsaox8 (10)/project/src/components/MapLocationSelector.tsx",lineNumber:635,columnNumber:21},void 0)},s.id,!1,{fileName:"C:/Users/User/Downloads/project-bolt-sb1-szjsaox8 (10)/project/src/components/MapLocationSelector.tsx",lineNumber:628,columnNumber:19},void 0))},void 0,!1,{fileName:"C:/Users/User/Downloads/project-bolt-sb1-szjsaox8 (10)/project/src/components/MapLocationSelector.tsx",lineNumber:626,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/User/Downloads/project-bolt-sb1-szjsaox8 (10)/project/src/components/MapLocationSelector.tsx",lineNumber:613,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/User/Downloads/project-bolt-sb1-szjsaox8 (10)/project/src/components/MapLocationSelector.tsx",lineNumber:522,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/User/Downloads/project-bolt-sb1-szjsaox8 (10)/project/src/components/MapLocationSelector.tsx",lineNumber:463,columnNumber:7},void 0),!1]},void 0,!0,{fileName:"C:/Users/User/Downloads/project-bolt-sb1-szjsaox8 (10)/project/src/components/MapLocationSelector.tsx",lineNumber:406,columnNumber:5},void 0)};export{ve as M};
