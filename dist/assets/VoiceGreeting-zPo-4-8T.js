import{j as e,z as N}from"./index-mfTr1OfE.js";import{r as t}from"./react-BKEbDJhF.js";import{A as k,m as n}from"./motion-BaJTjmjD.js";import{X as I,i as A,q as _,P,V as R,a as T,k as F,o as W}from"./icons-5Lq8eyna.js";import"./vendor-CmZZtmkI.js";const m="ssai_greeted_v1",g="ssai_voice_enabled",O="يا هلا والله! معك سمارت ستارت أي آي — مستشارك الذكي باللهجة الخليجية. وش تبينا نساعدك فيه اليوم؟ مشروع جديد؟ دراسة جدوى؟ ولا تسويق؟",K=[{id:"feasibility",text:"أبي أبدأ دراسة جدوى",emoji:"📊"},{id:"marketing",text:"أبي خطة تسويق أولية",emoji:"🎯"},{id:"naming",text:"أبي اقتراح اسم وهوية",emoji:"✨"}],q=({onActionSelect:f})=>{const[h,u]=t.useState(()=>!localStorage.getItem(m)),[i,a]=t.useState(!1),[p,x]=t.useState(null),[l,w]=t.useState(()=>localStorage.getItem(g)!=="false"),[V,d]=t.useState(!1),o=t.useRef(null),r=t.useRef(null);t.useEffect(()=>{if(o.current=new Audio("/sample-voice-ar.mp3"),o.current.preload="auto","speechSynthesis"in window){r.current=new SpeechSynthesisUtterance(O);const s=()=>{const c=speechSynthesis.getVoices(),G=["ar-SA","ar-KW","ar-QA","ar-BH","ar-OM","ar-AE","ar"],j=c.find(z=>G.some(S=>z.lang.startsWith(S)));j&&r.current&&(r.current.voice=j,r.current.rate=.9,r.current.pitch=1,r.current.volume=1)};s(),speechSynthesis.onvoiceschanged=s}return()=>{o.current&&(o.current.pause(),o.current=null),r.current&&speechSynthesis.cancel()}},[]);const U=async()=>{if(!o.current)return!1;try{return o.current.currentTime=0,await o.current.play(),o.current.onended=()=>{a(!1),d(!0)},o.current.onerror=()=>(a(!1),!1),a(!0),x("file"),!0}catch(s){return console.warn("Audio file playback failed:",s),!1}},D=async()=>{if(!r.current||!("speechSynthesis"in window))return!1;try{return speechSynthesis.cancel(),r.current.onend=()=>{a(!1),d(!0)},r.current.onerror=()=>{a(!1),N.error("خطأ في تشغيل الصوت")},speechSynthesis.speak(r.current),a(!0),x("webspeech"),!0}catch(s){return console.warn("Web Speech API failed:",s),!1}},v=async()=>{if(!l){d(!0);return}await U()||await D()||(N.error("لا يمكن تشغيل الصوت، سنعرض الخيارات مباشرة"),d(!0)),localStorage.setItem(m,"1")},b=()=>{p==="file"&&o.current?(o.current.pause(),o.current.currentTime=0):p==="webspeech"&&speechSynthesis.cancel(),a(!1),d(!0)},y=()=>{b(),localStorage.setItem(m,"1"),u(!1)},E=s=>{switch(localStorage.setItem(m,"1"),u(!1),f&&f(s),s){case"feasibility":typeof window<"u"&&(window.location.hash="flow");break;case"marketing":typeof window<"u"&&(window.location.hash="flow");break;case"naming":typeof window<"u"&&(window.location.hash="flow");break}},C=()=>{const s=!l;w(s),localStorage.setItem(g,s.toString()),!s&&i&&b()};return h?e.jsxDEV(k,{children:e.jsxDEV(n.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 bg-black/70 backdrop-blur-sm flex items-center justify-center p-4",children:e.jsxDEV(n.div,{initial:{scale:.9,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.9,opacity:0,y:20},className:"w-full max-w-md bg-white dark:bg-gray-900 rounded-3xl shadow-2xl overflow-hidden",children:[e.jsxDEV("div",{className:"bg-gradient-to-r from-saudi-green to-saudi-gold p-6 text-white relative overflow-hidden",children:[e.jsxDEV("div",{className:"absolute inset-0 bg-gradient-to-r from-saudi-green/90 to-saudi-gold/90"},void 0,!1,{fileName:"C:/Users/User/Downloads/project-bolt-sb1-szjsaox8 (10)/project/src/components/VoiceGreeting.tsx",lineNumber:223,columnNumber:13},void 0),e.jsxDEV("div",{className:"relative z-10",children:[e.jsxDEV("div",{className:"flex items-center justify-between mb-4",children:[e.jsxDEV("div",{className:"text-right",children:[e.jsxDEV("h2",{className:"text-2xl font-almarai font-bold",children:"أهلاً وسهلاً! 🇸🇦"},void 0,!1,{fileName:"C:/Users/User/Downloads/project-bolt-sb1-szjsaox8 (10)/project/src/components/VoiceGreeting.tsx",lineNumber:227,columnNumber:19},void 0),e.jsxDEV("p",{className:"text-white/90 font-almarai",children:"مرحباً بك في SmartStartAI"},void 0,!1,{fileName:"C:/Users/User/Downloads/project-bolt-sb1-szjsaox8 (10)/project/src/components/VoiceGreeting.tsx",lineNumber:230,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/User/Downloads/project-bolt-sb1-szjsaox8 (10)/project/src/components/VoiceGreeting.tsx",lineNumber:226,columnNumber:17},void 0),e.jsxDEV("button",{onClick:y,className:"p-2 text-white/80 hover:text-white hover:bg-white/20 rounded-lg transition-colors","aria-label":"تخطي الترحيب",children:e.jsxDEV(I,{className:"h-5 w-5"},void 0,!1,{fileName:"C:/Users/User/Downloads/project-bolt-sb1-szjsaox8 (10)/project/src/components/VoiceGreeting.tsx",lineNumber:240,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/User/Downloads/project-bolt-sb1-szjsaox8 (10)/project/src/components/VoiceGreeting.tsx",lineNumber:235,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/User/Downloads/project-bolt-sb1-szjsaox8 (10)/project/src/components/VoiceGreeting.tsx",lineNumber:225,columnNumber:15},void 0),e.jsxDEV("div",{className:"text-center",children:e.jsxDEV(n.div,{className:"w-20 h-20 bg-white/20 rounded-full mx-auto flex items-center justify-center relative",animate:i?{scale:[1,1.1,1]}:{},transition:{duration:1,repeat:i?1/0:0},children:[e.jsxDEV(A,{className:"h-10 w-10 text-white"},void 0,!1,{fileName:"C:/Users/User/Downloads/project-bolt-sb1-szjsaox8 (10)/project/src/components/VoiceGreeting.tsx",lineNumber:251,columnNumber:19},void 0),i&&e.jsxDEV(e.Fragment,{children:[...Array(3)].map((s,c)=>e.jsxDEV(n.div,{className:"absolute inset-0 border-2 border-white/30 rounded-full",animate:{scale:[1,1.5,2],opacity:[.7,.3,0]},transition:{duration:2,repeat:1/0,delay:c*.5}},c,!1,{fileName:"C:/Users/User/Downloads/project-bolt-sb1-szjsaox8 (10)/project/src/components/VoiceGreeting.tsx",lineNumber:257,columnNumber:25},void 0))},void 0,!1,{fileName:"C:/Users/User/Downloads/project-bolt-sb1-szjsaox8 (10)/project/src/components/VoiceGreeting.tsx",lineNumber:255,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/User/Downloads/project-bolt-sb1-szjsaox8 (10)/project/src/components/VoiceGreeting.tsx",lineNumber:246,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/User/Downloads/project-bolt-sb1-szjsaox8 (10)/project/src/components/VoiceGreeting.tsx",lineNumber:245,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/User/Downloads/project-bolt-sb1-szjsaox8 (10)/project/src/components/VoiceGreeting.tsx",lineNumber:224,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/User/Downloads/project-bolt-sb1-szjsaox8 (10)/project/src/components/VoiceGreeting.tsx",lineNumber:222,columnNumber:11},void 0),e.jsxDEV("div",{className:"p-6",children:V?e.jsxDEV(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center",children:[e.jsxDEV("div",{className:"w-16 h-16 bg-gradient-to-r from-saudi-green to-saudi-gold rounded-full mx-auto mb-4 flex items-center justify-center",children:e.jsxDEV(W,{className:"h-8 w-8 text-white"},void 0,!1,{fileName:"C:/Users/User/Downloads/project-bolt-sb1-szjsaox8 (10)/project/src/components/VoiceGreeting.tsx",lineNumber:364,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/User/Downloads/project-bolt-sb1-szjsaox8 (10)/project/src/components/VoiceGreeting.tsx",lineNumber:363,columnNumber:17},void 0),e.jsxDEV("h3",{className:"text-xl font-almarai font-bold text-gray-800 dark:text-gray-200 mb-4",children:"وش تبي نساعدك فيه؟"},void 0,!1,{fileName:"C:/Users/User/Downloads/project-bolt-sb1-szjsaox8 (10)/project/src/components/VoiceGreeting.tsx",lineNumber:367,columnNumber:17},void 0),e.jsxDEV("div",{className:"space-y-3 mb-6",children:K.map((s,c)=>e.jsxDEV(n.button,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:c*.1},onClick:()=>E(s.id),whileHover:{scale:1.02,x:-5},whileTap:{scale:.98},className:"w-full bg-gray-50 dark:bg-gray-800 hover:bg-saudi-green/10 dark:hover:bg-saudi-green/20 border border-gray-200 dark:border-gray-700 hover:border-saudi-green/30 py-4 px-6 rounded-xl font-almarai transition-all duration-300 flex items-center justify-between group",children:[e.jsxDEV("div",{className:"text-right flex-1",children:e.jsxDEV("span",{className:"text-gray-800 dark:text-gray-200 group-hover:text-saudi-green",children:s.text},void 0,!1,{fileName:"C:/Users/User/Downloads/project-bolt-sb1-szjsaox8 (10)/project/src/components/VoiceGreeting.tsx",lineNumber:384,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/User/Downloads/project-bolt-sb1-szjsaox8 (10)/project/src/components/VoiceGreeting.tsx",lineNumber:383,columnNumber:23},void 0),e.jsxDEV("span",{className:"text-2xl group-hover:scale-110 transition-transform duration-300",children:s.emoji},void 0,!1,{fileName:"C:/Users/User/Downloads/project-bolt-sb1-szjsaox8 (10)/project/src/components/VoiceGreeting.tsx",lineNumber:388,columnNumber:23},void 0)]},s.id,!0,{fileName:"C:/Users/User/Downloads/project-bolt-sb1-szjsaox8 (10)/project/src/components/VoiceGreeting.tsx",lineNumber:373,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Users/User/Downloads/project-bolt-sb1-szjsaox8 (10)/project/src/components/VoiceGreeting.tsx",lineNumber:371,columnNumber:17},void 0),e.jsxDEV("button",{onClick:()=>{localStorage.setItem(m,"1"),u(!1)},className:"text-gray-500 dark:text-gray-400 font-almarai hover:text-gray-700 dark:hover:text-gray-300 transition-colors",children:"أدخل للموقع مباشرة"},void 0,!1,{fileName:"C:/Users/User/Downloads/project-bolt-sb1-szjsaox8 (10)/project/src/components/VoiceGreeting.tsx",lineNumber:395,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/User/Downloads/project-bolt-sb1-szjsaox8 (10)/project/src/components/VoiceGreeting.tsx",lineNumber:358,columnNumber:15},void 0):e.jsxDEV(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center",children:[e.jsxDEV("p",{className:"text-gray-700 dark:text-gray-300 font-almarai mb-6 leading-relaxed",children:l?"اضغط للاستماع إلى ترحيب صوتي باللهجة الخليجية الأصيلة":"مرحباً بك في مستشارك الذكي للأعمال والمشاريع"},void 0,!1,{fileName:"C:/Users/User/Downloads/project-bolt-sb1-szjsaox8 (10)/project/src/components/VoiceGreeting.tsx",lineNumber:286,columnNumber:17},void 0),e.jsxDEV("div",{className:"space-y-4",children:[l&&e.jsxDEV(n.button,{onClick:i?b:v,whileHover:{scale:1.02},whileTap:{scale:.98},className:`w-full py-4 rounded-xl font-almarai font-bold text-lg transition-all duration-300 flex items-center justify-center gap-3 ${i?"bg-red-500 hover:bg-red-600 text-white":"bg-gradient-to-r from-saudi-green to-saudi-gold hover:shadow-lg text-white"}`,children:i?e.jsxDEV(e.Fragment,{children:[e.jsxDEV(_,{className:"h-6 w-6"},void 0,!1,{fileName:"C:/Users/User/Downloads/project-bolt-sb1-szjsaox8 (10)/project/src/components/VoiceGreeting.tsx",lineNumber:307,columnNumber:27},void 0),"إيقاف الترحيب"]},void 0,!0,{fileName:"C:/Users/User/Downloads/project-bolt-sb1-szjsaox8 (10)/project/src/components/VoiceGreeting.tsx",lineNumber:306,columnNumber:25},void 0):e.jsxDEV(e.Fragment,{children:[e.jsxDEV(P,{className:"h-6 w-6"},void 0,!1,{fileName:"C:/Users/User/Downloads/project-bolt-sb1-szjsaox8 (10)/project/src/components/VoiceGreeting.tsx",lineNumber:312,columnNumber:27},void 0),"🎤 ابدأ الترحيب الصوتي"]},void 0,!0,{fileName:"C:/Users/User/Downloads/project-bolt-sb1-szjsaox8 (10)/project/src/components/VoiceGreeting.tsx",lineNumber:311,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/User/Downloads/project-bolt-sb1-szjsaox8 (10)/project/src/components/VoiceGreeting.tsx",lineNumber:295,columnNumber:21},void 0),e.jsxDEV("button",{onClick:()=>d(!0),className:"w-full bg-white border-2 border-saudi-green text-saudi-green py-3 rounded-xl font-almarai font-bold hover:bg-light-green transition-all duration-300",children:"تخطي إلى الخيارات السريعة"},void 0,!1,{fileName:"C:/Users/User/Downloads/project-bolt-sb1-szjsaox8 (10)/project/src/components/VoiceGreeting.tsx",lineNumber:319,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/User/Downloads/project-bolt-sb1-szjsaox8 (10)/project/src/components/VoiceGreeting.tsx",lineNumber:293,columnNumber:17},void 0),e.jsxDEV("div",{className:"mt-6 pt-4 border-t border-gray-200 dark:border-gray-700",children:e.jsxDEV("button",{onClick:C,className:"flex items-center justify-center gap-2 text-gray-600 dark:text-gray-400 hover:text-saudi-green transition-colors mx-auto",children:[l?e.jsxDEV(R,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/User/Downloads/project-bolt-sb1-szjsaox8 (10)/project/src/components/VoiceGreeting.tsx",lineNumber:334,columnNumber:23},void 0):e.jsxDEV(T,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/User/Downloads/project-bolt-sb1-szjsaox8 (10)/project/src/components/VoiceGreeting.tsx",lineNumber:336,columnNumber:23},void 0),e.jsxDEV("span",{className:"font-almarai text-sm",children:l?"إيقاف الصوت":"تفعيل الصوت"},void 0,!1,{fileName:"C:/Users/User/Downloads/project-bolt-sb1-szjsaox8 (10)/project/src/components/VoiceGreeting.tsx",lineNumber:338,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/User/Downloads/project-bolt-sb1-szjsaox8 (10)/project/src/components/VoiceGreeting.tsx",lineNumber:329,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/User/Downloads/project-bolt-sb1-szjsaox8 (10)/project/src/components/VoiceGreeting.tsx",lineNumber:328,columnNumber:17},void 0),e.jsxDEV("div",{className:"mt-4 bg-saudi-green/5 rounded-lg p-3",children:[e.jsxDEV("div",{className:"flex items-center gap-2 mb-2",children:[e.jsxDEV(F,{className:"h-4 w-4 text-saudi-green"},void 0,!1,{fileName:"C:/Users/User/Downloads/project-bolt-sb1-szjsaox8 (10)/project/src/components/VoiceGreeting.tsx",lineNumber:347,columnNumber:21},void 0),e.jsxDEV("span",{className:"font-almarai font-bold text-saudi-green text-sm",children:"لماذا الترحيب الصوتي؟"},void 0,!1,{fileName:"C:/Users/User/Downloads/project-bolt-sb1-szjsaox8 (10)/project/src/components/VoiceGreeting.tsx",lineNumber:348,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/User/Downloads/project-bolt-sb1-szjsaox8 (10)/project/src/components/VoiceGreeting.tsx",lineNumber:346,columnNumber:19},void 0),e.jsxDEV("p",{className:"text-saudi-green font-almarai text-xs text-right",children:"نريد نعطيك تجربة شخصية وودودة من أول لحظة، ونوضح لك كيف نفهم اللهجة الخليجية بطبيعية"},void 0,!1,{fileName:"C:/Users/User/Downloads/project-bolt-sb1-szjsaox8 (10)/project/src/components/VoiceGreeting.tsx",lineNumber:352,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/User/Downloads/project-bolt-sb1-szjsaox8 (10)/project/src/components/VoiceGreeting.tsx",lineNumber:345,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/User/Downloads/project-bolt-sb1-szjsaox8 (10)/project/src/components/VoiceGreeting.tsx",lineNumber:281,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/User/Downloads/project-bolt-sb1-szjsaox8 (10)/project/src/components/VoiceGreeting.tsx",lineNumber:279,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/User/Downloads/project-bolt-sb1-szjsaox8 (10)/project/src/components/VoiceGreeting.tsx",lineNumber:215,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/User/Downloads/project-bolt-sb1-szjsaox8 (10)/project/src/components/VoiceGreeting.tsx",lineNumber:209,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Users/User/Downloads/project-bolt-sb1-szjsaox8 (10)/project/src/components/VoiceGreeting.tsx",lineNumber:208,columnNumber:5},void 0):null};export{q as default};
